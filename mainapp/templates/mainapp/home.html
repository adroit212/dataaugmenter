{% extends 'mainapp/mother_frame.html' %}
{% block mainblock %}
<section class="content-header">
    <h1>
        Data Operation
    </h1>
</section>
<section class="content">
    <!-- Small boxes (Stat box) -->
    <div class="row">
        <div class="col-md-12">
            <div class="box box-primary">
                <div class="box-header">
                    Augment and Reduce Dimension of Image Data
                </div>
                <div class="box-body">
                    <div class="row">
                        <form method="post" enctype="multipart/form-data" action="/data_operation/"> {%csrf_token%}
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label>Select a Zipped File Containing your Data</label>
                                    <input accept=".zip" type="file" name="ds" class="btn btn-info btn-block" required/>
                                </div>
                            </div>
                            <div class="col-md-12 text-right">
                                <button type="submit" name="do" class="btn btn-primary">Perform Operation</button>
                            </div>
                        </form>
                    </div>
                </div>
                {%if flag%}
                <div class="box-footer">
                    <div class="row">
                        <div class="col-md-6">
                            <p class="text-success">
                                Dataset has been augmented with dimension reduced successfully.
                                Click on the download button to save refined dataset to local storage.
                            </p>
                        </div>
                        <div class="col-md-6">
                            <form method="post" name="finalform" action="/data_operation/" target="_blank">
                                {%csrf_token%}
                                <input type="hidden" name="fp" value="{{zipfile}}">
                                <button type="submit" class="btn btn-success btn-block">Download Refined Dataset (ZIP)</button>
                            </form>

                        </div>
                    </div>
                </div>
                {%endif%}
            </div>
        </div>
    </div>
</section>
{% endblock %}